# @inlang/design-system

A web-component and tailwind CSS-based design system for applications with semantic
meaning inspired by [Material3](https://m3.material.io/).

Web-components arrived. Let's stop the framework "works only in React/Vue/Svelte" madness.
This design system works everywhere (even in Markdown files!). The design system builds on
TailwindCSS but can be used without it (TODO: explain or remove).

!!!This package is a work in progress!!!

## Design principles

- **Shared stylesheet**  
  One TailwindCSS stylesheet of the host automatically styles the components. No CSS duplication
  and, more importantly, the tailwind config can be used for theming.

- **Only use TailwindCSS classes**  
  No custom CSS is used, minimizing the size of the component library and increasing consistency across the UI. The
  same margins, paddings, border radiuses, etc. are used across the entire application.

- **Themeable**  
  Use Tailwind's theme config to configure the look of the components.

- **Unstyled by default**  
  Only apply styles with component classes.

- **Use the color- and typography system on its own.**  
  If you don't want the components, no need to use the components.

## Usage

TODO: @samuelstroschein

## FAQ

**Why has this been developed?**

No high-quality unstyled/themeable component libraries like [Radix](https://www.radix-ui.com/) or [HeadlessUI](https://headlessui.com/) exist that are framework agnostic, even though web components have
been standardized. [Shoelace](https://shoelace.style/) was a contester but the styles need
to be overwritten. Tailwind itself has no components at all and lacks a [semantic color system](https://m3.material.io/styles/color/overview).

**Why are components beneficial?**

Maintaining TailwindCSS without components leads to inconsistencies and is hard to read.
Tailwind plugins like [DaisyUI](https://daisyui.com/) create component CSS classes. But,
as the Tailwind maintainers themselves declare:

> Unless a component is a single HTML element, the information needed to define it canâ€™t be captured in CSS alone. For anything even remotely complex, the HTML structure is just as important as the CSS.  
> _https://tailwindcss.com/docs/reusing-styles#compared-to-css-abstractions_

This design system aims at combining the theme ability of DaisyUI with the functionality of a real component.

**What are those `.cjs` and `.cts` files in the source code?**

[Tailwind's](https://tailwindcss.com/) config uses CommonJS instead of ESModule. Read more about
CommonJS and ESM [here](https://dev.to/iggredible/what-the-heck-are-cjs-amd-umd-and-esm-ikm).

## Design decisions

### Using the Shadow DOM

Web components are a set of features. One of them is defining custom HTML elements like `<in-button></in-button />`. Another one is `<slot>`'s. And, last but not least, the [Shadow DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM).

Slots allow the nesting of HTML elements, "similar" to component frameworks like React:

```html
<sl-button>
	<sl-icon slot="prefix" name="gear"></sl-icon>
	Settings
</sl-button>
```

The Shadow DOM encapsulates the styling, similar to [CSS Modules](https://vitejs.dev/guide/features.html#css-modules) in component frameworks. The style defined in a component only applies to the component.

Unfortunately, slots and the Shadow DOM only work in combination. The Shadow DOM is exactly the
opposite of this design-systems requirement of inheriting (tailwind) styles from the host. Experiments of deactivating the Shadow DOM led to the desired effect of inheriting styles but giving up on slots
was not an option. To achieve the desired effect of inheriting styles, regardless of the Shadow DOM, a workaround has been developed. See [Inheriting styles from the host](#inheriting-styles-from-the-host).

_Further reading:_

- https://github.com/lit/lit-element/issues/553

### Inheriting styles from the host

To achieve style inheritance without stylesheet duplication, the host must have a `tailwind.css` file at the root
of the website/application. The `tailwind.css` file is generated by the host's tailwind configuration and naively
referenced by the components with a simple `<link rel="stylesheet" href="/tailwind.css">`. If the host references
the same file (instead of a separate tailwind stylesheet), the browser caches the file and the same styles
are used among the host and the components.
