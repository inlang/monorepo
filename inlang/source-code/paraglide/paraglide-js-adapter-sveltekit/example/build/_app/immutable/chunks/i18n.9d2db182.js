import"./index.1c5b1dac.js";import{b as m}from"./entry.84e9c53e.js";import{p as I}from"./stores.69ea243b.js";import{u as $}from"./scheduler.7edaed9b.js";import{i as A,r as W}from"./messages.25f179b5.js";function E(e,t){return e===""?"":e.startsWith("/")?e:new URL(e,t).pathname}const ee="$paraglide-adapter-sveltekit:context",b="__data.json",_=".html__data.json",te="paraglide:lang";function h(e){return"/"+e.split("/").filter(Boolean).join("/")}const y=(...e)=>e.map(h).filter(t=>t!=="/").reduce((t,r)=>t+r,"")||"/";function B(e){try{return decodeURI(e)}catch{return e}}function x(e,t){e=B(e);const r=e.endsWith("/")&&e!=="/";e=h(e);const a=h(t.base),{availableLanguageTags:u,defaultLanguageTag:s}=t;let c=e.replace(a,"/");const i=c.endsWith(_)?_:c.endsWith(b)?b:void 0;i&&(c=c.replace(i,""));const[n,...l]=c.split("/").filter(Boolean);if(!n)return{base:a,lang:s,path:"/",dataSuffix:i,trailingSlash:r};const f=u.includes(n)?n:s,o=u.includes(n)?h(l.join("/")):h(c);return{base:a,lang:f,path:o,dataSuffix:i,trailingSlash:r}}function v(e){const t=[];t.push(e.base),e.includeLanguage&&(!(e.lang===e.defaultLanguageTag)||e.prefixDefaultLanguage==="always")&&t.push(e.lang),t.push(e.path),e.dataSuffix&&t.push(b);const r=y(...t);return e.trailingSlash&&!e.dataSuffix&&r!=="/"?r+"/":r}const O=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function z(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${D(e).map(a=>{const u=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(u)return t.push({name:u[1],matcher:u[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(s)return t.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const c=a.split(/\[(.+?)\](?!\])/);return"/"+c.map((n,l)=>{if(l%2){if(n.startsWith("x+"))return p(String.fromCharCode(parseInt(n.slice(2),16)));if(n.startsWith("u+"))return p(String.fromCharCode(...n.slice(2).split("-").map(S=>parseInt(S,16))));const f=O.exec(n);if(!f)throw new Error(`Invalid param: ${n}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,o,g,d,j]=f;return t.push({name:d,matcher:j,optional:!!o,rest:!!g,chained:g?l===1&&c[0]==="":!1}),g?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return p(n)}).join("")}).join("")}/?$`),params:t}}function F(e,t,r){const a={},u=e.slice(1),s=u.filter(i=>i!==void 0);let c=0;for(const[i,n]of t.entries()){let l=u[i-c];if(n.chained&&n.rest&&c&&(l=u.slice(i-c,i+1).filter(o=>o).join("/"),c=0),l===void 0){n.rest&&(a[n.name]="");continue}if(n.matcher&&!r[n.matcher])return;if((r[n.matcher]??(()=>!0))(l)){a[n.name]=l;const o=t[i+1],g=u[i+1];o&&!o.rest&&o.optional&&g&&n.chained&&(c=0),!o&&!g&&Object.keys(a).length===s.length&&(c=0);continue}if(n.optional&&n.chained){c++;continue}return}if(!c)return a}function p(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const R=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function T(e,t){return"/"+D(e).map(a=>a.replace(R,(u,s,c,i)=>{const n=t[i];if(!n){if(s||c&&n!==void 0)return"";throw new Error(`Missing parameter '${i}' in route ${e}`)}if(n.startsWith("/")||n.endsWith("/"))throw new Error(`Parameter '${i}' in route ${e} cannot start or end with a slash -- this would cause an invalid route like foo//bar`);return n})).filter(Boolean).join("/")}function w(e,t,r){let a;for(const u of t){const s=z(u),c=s.pattern.exec(k(e));if(!c)continue;const i=F(c,s.params,r);if(!i)continue;if(!a){a={params:i,route:s,id:u};continue}const n=Object.keys(a.route.params).length,l=Object.keys(s.params).length;if(!(n<l)){if(n>l){a={params:i,route:s,id:u};continue}n===l&&s.pattern.source.length<a.route.pattern.source.length&&(a={params:i,route:s,id:u})}}return a?{id:a.id,params:a.params}:void 0}function k(e){return e.endsWith("/")?e.slice(0,-1):e}function D(e){return e.slice(1).split("/")}function M(e,t,r,a){const u=w(e,Object.keys(r),a);if(!u)return e;const s=r[u.id];if(!s)return e;const c=s[t];return c?T(c,u.params):e}function P(e,t,r,a){for(const[u,s]of Object.entries(r)){if(!(t in s))continue;const c=s[t];if(!c)continue;const i=w(e,[c],a);if(i)return T(u,i.params)}return e}const N=({defaultLanguageTag:e,runtime:t,translations:r,matchers:a})=>({url:u})=>{try{const{lang:s,path:c,dataSuffix:i,trailingSlash:n}=x(u.pathname,{base:m,availableLanguageTags:t.availableLanguageTags,defaultLanguageTag:e}),l=P(c,s,r,a);return v({path:l,base:m,dataSuffix:i,trailingSlash:n,includeLanguage:!1})}catch{return u.pathname}};function C(e){const t=[];for(const r of e)typeof r=="string"?t.push(a=>a===r):t.push(a=>r.test(a));return r=>(r=h(r),t.some(a=>a(r)))}function U(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction==="rtl"?"rtl":"ltr":t.getTextInfo().direction==="rtl"?"rtl":"ltr"}catch{return"ltr"}}function G(e){const t=e.map(r=>[r,U(r)]);return Object.fromEntries(t)}function X(e,t){const r={};for(const a in e){const u=e[a];if(u){if(typeof u=="object"){r[a]=e[a];continue}r[a]=H(u,t)}}return r}function H(e,t){const r=t.map(a=>[a,e({},{languageTag:a})]);return Object.fromEntries(r)}function K(e,t){var c;const r=X((t==null?void 0:t.pathnames)??{},e.availableLanguageTags),a=(t==null?void 0:t.exclude)??[],u=(t==null?void 0:t.defaultLanguageTag)??e.sourceLanguageTag,s={runtime:e,translations:r,matchers:(t==null?void 0:t.matchers)??{},exclude:C(a),defaultLanguageTag:u,prefixDefaultLanguage:(t==null?void 0:t.prefixDefaultLanguage)??"never",textDirection:(t==null?void 0:t.textDirection)??G(e.availableLanguageTags),seo:{noAlternateLinks:((c=t==null?void 0:t.seo)==null?void 0:c.noAlternateLinks)??!1}};return Object.freeze(r),Object.freeze(s),{config:s,reroute:()=>N(s),handle:(i={})=>{throw new Error("")},getLanguageFromUrl(i){const l=i.pathname.slice(L(m).length).split("/").find(Boolean);return e.isAvailableLanguageTag(l)?l:u},resolveRoute(i,n=void 0){if(s.exclude(i))return i;const l=L(m),{trailingSlash:f,dataSuffix:o}=x(i,{base:l,availableLanguageTags:e.availableLanguageTags,defaultLanguageTag:e.sourceLanguageTag});if(n=n??e.languageTag(),!i.startsWith(l))return i;const g=i.slice(l.length),d=M(g,n,s.translations,s.matchers);return v({path:d,lang:n,base:l,dataSuffix:o,includeLanguage:!0,defaultLanguageTag:u,prefixDefaultLanguage:s.prefixDefaultLanguage,trailingSlash:f})},route(i){const n=L(m),{path:l,lang:f,trailingSlash:o,dataSuffix:g}=x(i,{base:n,availableLanguageTags:s.runtime.availableLanguageTags,defaultLanguageTag:s.defaultLanguageTag}),d=P(l,f,s.translations,s.matchers);return v({path:d,base:n,trailingSlash:o,dataSuffix:g,includeLanguage:!1})}}}function L(e){return e===""?"":e.startsWith("/")?e:E(e,new URL($(I).url))}function Y(e){try{const t=parseFloat(e);return isNaN(t)?!1:t===Math.round(t)}catch{return!1}}const ae=K(W,{pathnames:{"/about":A,"/users":{en:"/users",de:"/benutzer"},"/users/[id=int]/[...rest]":{en:"/users/[id=int]/[...rest]",de:"/benutzer/[id=int]/[...rest]"}},matchers:{int:Y},exclude:["/base/not-translated"],textDirection:{en:"ltr",de:"ltr"}});export{te as L,ee as P,P as a,M as b,x as g,ae as i,Y as m,E as n,v as s};
